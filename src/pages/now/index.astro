---
import type { Page } from '@utils/types';
import { getCollection } from 'astro:content';
import GlobalWrapper from '@layouts/GlobalWrapper.astro';
import PageWithSidebar from '@layouts/PageWithSidebar.astro';
import TitleOneLine from '@components/title/TitleOneLine.astro';
import PageContent from '@components/PageContent.astro';

const allPages: Page[] = await getCollection('pages');
const nowPage = allPages.filter((page: Page) => page.data.slug === 'now')[0];
---

<GlobalWrapper pageTitle={nowPage.data.title}>
  <PageWithSidebar>
    <TitleOneLine slot="title" pageTitle={{ heading: nowPage.data.title }} />
    <PageContent slot="content" page={nowPage} />
  </PageWithSidebar>
</GlobalWrapper>
