---
import type { Page } from '@utils/types';
import { customTypography } from '@utils/customTypography';
import { getEntry, render } from 'astro:content';
import GlobalWrapper from '@layouts/GlobalWrapper.astro';
import PageWithSidebar from '@layouts/PageWithSidebar.astro';
import TitleOneLine from '@components/title/TitleOneLine.astro';
import MarkdownWrapper from '@layouts/MarkdownWrapper.astro';

const readingJournalPage: Page | undefined = await getEntry(
  'pages',
  'reading-journal'
);
if (!readingJournalPage) {
  throw new Error('Could not find requested page');
}

const { Content } = await render(readingJournalPage);
---

<GlobalWrapper pageTitle={readingJournalPage.data.title}>
  <PageWithSidebar>
    <TitleOneLine
      slot="title"
      pageTitle={{ heading: readingJournalPage.data.title }}
    />
    <MarkdownWrapper slot="content" hasBottomSection={false}>
      <Content slot="content" components={customTypography} />
    </MarkdownWrapper>
  </PageWithSidebar>
</GlobalWrapper>
